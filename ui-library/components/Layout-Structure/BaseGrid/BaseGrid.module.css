/* =========================
   BaseGrid – token & var based
   ========================= */

.grid {
  display: grid;
  width: 100%;
  box-sizing: border-box;

  /* Gap پایه بر اساس توکن‌ها؛ با کلاس gap-* یا --grid-gap override می‌شود */
  --grid-gap: var(--space-md, 1rem);
  gap: var(--grid-gap);

  /* auto-fit از طریق vars کنترل می‌شود تا props بتواند min/max بدهد */
  --grid-auto-min: 200px;
  --grid-auto-max: 1fr;

  /* عملکرد و پایداری */
  contain: layout style paint;
  will-change: transform;
}

/* -------- Columns (base) -------- */
.cols-1  { grid-template-columns: repeat(1, minmax(0,1fr)); }
.cols-2  { grid-template-columns: repeat(2, minmax(0,1fr)); }
.cols-3  { grid-template-columns: repeat(3, minmax(0,1fr)); }
.cols-4  { grid-template-columns: repeat(4, minmax(0,1fr)); }
.cols-5  { grid-template-columns: repeat(5, minmax(0,1fr)); }
.cols-6  { grid-template-columns: repeat(6, minmax(0,1fr)); }
.cols-7  { grid-template-columns: repeat(7, minmax(0,1fr)); }
.cols-8  { grid-template-columns: repeat(8, minmax(0,1fr)); }
.cols-9  { grid-template-columns: repeat(9, minmax(0,1fr)); }
.cols-10 { grid-template-columns: repeat(10, minmax(0,1fr)); }
.cols-11 { grid-template-columns: repeat(11, minmax(0,1fr)); }
.cols-12 { grid-template-columns: repeat(12, minmax(0,1fr)); }

/* حالت auto: استفاده از تِرَک‌های auto-fit که با vars کنترل می‌شود */
.cols-auto { grid-template-columns: repeat(auto-fit, minmax(var(--grid-auto-min), var(--grid-auto-max))); }

/* -------- Gap tokens (var-driven) -------- */
.gap-none { --grid-gap: 0; }
.gap-xs   { --grid-gap: var(--space-xs, .25rem); }
.gap-sm   { --grid-gap: var(--space-sm, .5rem); }
.gap-md   { --grid-gap: var(--space-md, 1rem); }
.gap-lg   { --grid-gap: var(--space-lg, 1.5rem); }
.gap-xl   { --grid-gap: var(--space-xl, 2rem); }
.gap-2xl  { --grid-gap: var(--space-2xl, 3rem); }

/* -------- Flow -------- */
.flowRow    { grid-auto-flow: row; }
.flowColumn { grid-auto-flow: column; }
.dense      { grid-auto-flow: dense; }

/* -------- Align / Justify items -------- */
.align-start   { align-items: start; }
.align-center  { align-items: center; }
.align-end     { align-items: end; }
.align-stretch { align-items: stretch; }

.justify-start   { justify-items: start; }
.justify-center  { justify-items: center; }
.justify-end     { justify-items: end; }
.justify-stretch { justify-items: stretch; }

/* -------- Responsive cols via data-attrs -------- */
/* Breakpoints: sm 640px, md 768px, lg 1024px, xl 1280px */

@media (min-width: 640px) {
  .grid[data-cols-sm="auto"] { grid-template-columns: repeat(auto-fit, minmax(var(--grid-auto-min), var(--grid-auto-max))); }
  .grid[data-cols-sm="1"]  { grid-template-columns: repeat(1, minmax(0,1fr)); }
  .grid[data-cols-sm="2"]  { grid-template-columns: repeat(2, minmax(0,1fr)); }
  .grid[data-cols-sm="3"]  { grid-template-columns: repeat(3, minmax(0,1fr)); }
  .grid[data-cols-sm="4"]  { grid-template-columns: repeat(4, minmax(0,1fr)); }
  .grid[data-cols-sm="5"]  { grid-template-columns: repeat(5, minmax(0,1fr)); }
  .grid[data-cols-sm="6"]  { grid-template-columns: repeat(6, minmax(0,1fr)); }
  .grid[data-cols-sm="7"]  { grid-template-columns: repeat(7, minmax(0,1fr)); }
  .grid[data-cols-sm="8"]  { grid-template-columns: repeat(8, minmax(0,1fr)); }
  .grid[data-cols-sm="9"]  { grid-template-columns: repeat(9, minmax(0,1fr)); }
  .grid[data-cols-sm="10"] { grid-template-columns: repeat(10, minmax(0,1fr)); }
  .grid[data-cols-sm="11"] { grid-template-columns: repeat(11, minmax(0,1fr)); }
  .grid[data-cols-sm="12"] { grid-template-columns: repeat(12, minmax(0,1fr)); }
}

@media (min-width: 768px) {
  .grid[data-cols-md="auto"] { grid-template-columns: repeat(auto-fit, minmax(var(--grid-auto-min), var(--grid-auto-max))); }
  .grid[data-cols-md="1"]  { grid-template-columns: repeat(1, minmax(0,1fr)); }
  .grid[data-cols-md="2"]  { grid-template-columns: repeat(2, minmax(0,1fr)); }
  .grid[data-cols-md="3"]  { grid-template-columns: repeat(3, minmax(0,1fr)); }
  .grid[data-cols-md="4"]  { grid-template-columns: repeat(4, minmax(0,1fr)); }
  .grid[data-cols-md="5"]  { grid-template-columns: repeat(5, minmax(0,1fr)); }
  .grid[data-cols-md="6"]  { grid-template-columns: repeat(6, minmax(0,1fr)); }
  .grid[data-cols-md="7"]  { grid-template-columns: repeat(7, minmax(0,1fr)); }
  .grid[data-cols-md="8"]  { grid-template-columns: repeat(8, minmax(0,1fr)); }
  .grid[data-cols-md="9"]  { grid-template-columns: repeat(9, minmax(0,1fr)); }
  .grid[data-cols-md="10"] { grid-template-columns: repeat(10, minmax(0,1fr)); }
  .grid[data-cols-md="11"] { grid-template-columns: repeat(11, minmax(0,1fr)); }
  .grid[data-cols-md="12"] { grid-template-columns: repeat(12, minmax(0,1fr)); }
}

@media (min-width: 1024px) {
  .grid[data-cols-lg="auto"] { grid-template-columns: repeat(auto-fit, minmax(var(--grid-auto-min), var(--grid-auto-max))); }
  .grid[data-cols-lg="1"]  { grid-template-columns: repeat(1, minmax(0,1fr)); }
  .grid[data-cols-lg="2"]  { grid-template-columns: repeat(2, minmax(0,1fr)); }
  .grid[data-cols-lg="3"]  { grid-template-columns: repeat(3, minmax(0,1fr)); }
  .grid[data-cols-lg="4"]  { grid-template-columns: repeat(4, minmax(0,1fr)); }
  .grid[data-cols-lg="5"]  { grid-template-columns: repeat(5, minmax(0,1fr)); }
  .grid[data-cols-lg="6"]  { grid-template-columns: repeat(6, minmax(0,1fr)); }
  .grid[data-cols-lg="7"]  { grid-template-columns: repeat(7, minmax(0,1fr)); }
  .grid[data-cols-lg="8"]  { grid-template-columns: repeat(8, minmax(0,1fr)); }
  .grid[data-cols-lg="9"]  { grid-template-columns: repeat(9, minmax(0,1fr)); }
  .grid[data-cols-lg="10"] { grid-template-columns: repeat(10, minmax(0,1fr)); }
  .grid[data-cols-lg="11"] { grid-template-columns: repeat(11, minmax(0,1fr)); }
  .grid[data-cols-lg="12"] { grid-template-columns: repeat(12, minmax(0,1fr)); }
}

@media (min-width: 1280px) {
  .grid[data-cols-xl="auto"] { grid-template-columns: repeat(auto-fit, minmax(var(--grid-auto-min), var(--grid-auto-max))); }
  .grid[data-cols-xl="1"]  { grid-template-columns: repeat(1, minmax(0,1fr)); }
  .grid[data-cols-xl="2"]  { grid-template-columns: repeat(2, minmax(0,1fr)); }
  .grid[data-cols-xl="3"]  { grid-template-columns: repeat(3, minmax(0,1fr)); }
  .grid[data-cols-xl="4"]  { grid-template-columns: repeat(4, minmax(0,1fr)); }
  .grid[data-cols-xl="5"]  { grid-template-columns: repeat(5, minmax(0,1fr)); }
  .grid[data-cols-xl="6"]  { grid-template-columns: repeat(6, minmax(0,1fr)); }
  .grid[data-cols-xl="7"]  { grid-template-columns: repeat(7, minmax(0,1fr)); }
  .grid[data-cols-xl="8"]  { grid-template-columns: repeat(8, minmax(0,1fr)); }
  .grid[data-cols-xl="9"]  { grid-template-columns: repeat(9, minmax(0,1fr)); }
  .grid[data-cols-xl="10"] { grid-template-columns: repeat(10, minmax(0,1fr)); }
  .grid[data-cols-xl="11"] { grid-template-columns: repeat(11, minmax(0,1fr)); }
  .grid[data-cols-xl="12"] { grid-template-columns: repeat(12, minmax(0,1fr)); }
}

/* -------- Accessibility / RTL -------- */
.grid[dir="rtl"] { direction: rtl; }

@media (prefers-reduced-motion: reduce) {
  .grid { transition: none; }
}

@media (prefers-contrast: high) {
  .grid { outline: 1px solid transparent; }
}
